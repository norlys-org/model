<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>norlys wasm example</title>
  </head>
  <body>
    <script type="module">
        import init, { infer } from "./pkg/model.js";

        (async () => {
          await init();

          const observations = [
            { latitude: 78.92, longitude: 11.95, i: -79, j: -135 },
            { latitude: 78.2, longitude: 15.82, i: -33, j: -128 },
            { latitude: 76.51, longitude: 25.01, i: 44, j: -147 },
            { latitude: 74.5, longitude: 19.2, i: 2, j: -124 },
            { latitude: 70.9, longitude: 351.3, i: 132, j: -133 },
            { latitude: 71.09, longitude: 25.79, i: 91, j: -68 },
            { latitude: 67.53, longitude: 12.1, i: 174, j: -57 },
            { latitude: 70.54, longitude: 22.22, i: 110, j: -64 },
            { latitude: 69.76, longitude: 27.01, i: 82, j: -69 },
            { latitude: 69.66, longitude: 18.94, i: 122, j: -59 },
            { latitude: 67.37, longitude: 26.63, i: 89, j: -23 },
            { latitude: 69.46, longitude: 23.7, i: 93, j: -67 },
            { latitude: 69.3, longitude: 16.03, i: 141, j: -73 },
            { latitude: 66.4, longitude: 16.98, i: 125, j: -25 },
            { latitude: 69.06, longitude: 20.77, i: 119, j: -56 },
            { latitude: 68.56, longitude: 27.29, i: 84, j: -57 },
            { latitude: 68.02, longitude: 23.53, i: 115, j: -29 },
            { latitude: 66.9, longitude: 24.08, i: 97, j: -15 },
            { latitude: 66.11, longitude: 12.5, i: 139, j: -31 },
            { latitude: 65.54, longitude: 26.25, i: 54, j: 1 },
            { latitude: 64.94, longitude: 10.98, i: 99, j: -19 },
            { latitude: 64.52, longitude: 27.23, i: 27, j: 10 },
            { latitude: 62.77, longitude: 30.97, i: 8, j: 21 },
            { latitude: 62.25, longitude: 26.6, i: 14, j: 10 },
            { latitude: 62.07, longitude: 9.11, i: 35, j: -1 },
            { latitude: 61.08, longitude: 4.84, i: 26, j: -1 },
            { latitude: 60.21, longitude: 10.75, i: 10, j: 3 },
            { latitude: 60.5, longitude: 24.65, i: 3, j: 20 },
            { latitude: 59.21, longitude: 5.24, i: 10, j: 1 },
            { latitude: 58.26, longitude: 26.46, i: -6, j: 24 },
            { latitude: 55.62, longitude: 11.67, i: -6, j: 16 },
            { latitude: 77.47, longitude: 290.77, i: -121, j: -90 },
            { latitude: 74.57, longitude: 302.82, i: 160, j: -238 },
            { latitude: 72.78, longitude: 303.85, i: 141, j: -103 },
            { latitude: 72.3, longitude: 321.7, i: -61, j: 18 },
            { latitude: 70.68, longitude: 307.87, i: 111, j: 164 },
            { latitude: 69.25, longitude: 306.47, i: -38, j: -8 },
            { latitude: 67.02, longitude: 309.28, i: 372, j: -125 },
            { latitude: 61.16, longitude: 314.56, i: 234, j: 81 },
            { latitude: 65.42, longitude: 307.1, i: 236, j: 153 },
            { latitude: 40.137, longitude: 254.763, i: -32, j: -47 },
            { latitude: 71.322, longitude: 203.378, i: -616, j: 147 },
            { latitude: 64.874, longitude: 212.14, i: -88, j: -10 },
            { latitude: 48.265, longitude: 242.878, i: -41, j: -36 },
            { latitude: 55.348, longitude: 199.538, i: -21, j: 32 },
            { latitude: 57.058, longitude: 224.675, i: -45, j: -24 },
            { latitude: 82.497, longitude: 297.647, i: -122, j: 55 },
            { latitude: 64.3, longitude: 264, i: 40, j: 104 },
            { latitude: 49.6, longitude: 262.9, i: -40, j: -56 },
            { latitude: 69.2, longitude: 255, i: -109, j: 104 },
            { latitude: 80, longitude: 274.1, i: -76, j: 127 },
            { latitude: 58.8, longitude: 265.9, i: 46, j: -32 },
            { latitude: 63.8, longitude: 291.5, i: 219, j: 30 },
            { latitude: 54.6, longitude: 246.7, i: -39, j: -44 },
            { latitude: 45.4, longitude: 284.5, i: -32, j: -57 },
            { latitude: 74.7, longitude: 265.1, i: -56, j: 154 },
            { latitude: 47.6, longitude: 307.3, i: -6, j: -33 },
            { latitude: 48.6, longitude: 236.6, i: -50, j: -23 },
            { latitude: 65.136, longitude: -147.447, i: -303, j: -302 },
            { latitude: 64.786, longitude: -141.205, i: -128, j: 19 },
            { latitude: 68.627, longitude: -149.592, i: -360, j: 50 }
          ].map(o => ({ ...o, altitude: 0 }));

          const predicted = infer({
            matrix: observations
          });
          console.log(predicted);
        })();
    </script>
  </body>
</html>

