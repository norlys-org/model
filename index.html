<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>norlys wasm example</title>
  </head>
  <body>
    <script type="module">
        import init, { infer } from "./pkg/model.js";

        (async () => {
          await init();

          const observations = [
      { lat: 78.92, lon: 11.95, i: -71.5, j: -135, k: -191, d: 8 },
      { lat: 78.2, lon: 15.82, i: -78, j: -150, k: -164, d: 6 },
      {
        lat: 74.5,
        lon: 19.2,
        i: 4.833333333332121,
        j: -112,
        k: -151,
        d: -3
      },
      { lat: 70.9, lon: 351.3, i: 124.5, j: -24, k: -209, d: -4 },
      { lat: 71.09, lon: 25.79, i: 72, j: -104, k: -83, d: -7 },
      { lat: 67.53, lon: 12.1, i: 230, j: -96, k: -143, d: -3 },
      { lat: 70.54, lon: 22.22, i: 73, j: -125, k: -108, d: -4 },
      {
        lat: 69.76,
        lon: 27.01,
        i: 68,
        j: -111,
        k: -72.33333333333576,
        d: -6
      },
      { lat: 69.66, lon: 18.94, i: 116, j: -121, k: -161, d: 0 },
      {
        lat: 67.37,
        lon: 26.63,
        i: 160.96428571428623,
        j: -92,
        k: -39.25,
        d: 6
      },
      { lat: 69.46, lon: 23.7, i: 76, j: -125, k: -96, d: 0 },
      { lat: 69.3, lon: 16.03, i: 140, j: -117, k: -175, d: -3 },
      { lat: 66.4, lon: 16.98, i: 216, j: -69, k: -12, d: 10 },
      { lat: 69.06, lon: 20.77, i: 136, j: -146, k: -128, d: 0 },
      {
        lat: 68.56,
        lon: 27.29,
        i: 81,
        j: -107,
        k: -58.888888888890506,
        d: 0
      },
      { lat: 68.02, lon: 23.53, i: 146.5, j: -77, k: -78, d: 6 },
      {
        lat: 66.9,
        lon: 24.08,
        i: 165,
        j: -61.666666666666515,
        k: -33,
        d: 12
      },
      { lat: 66.11, lon: 12.5, i: 233, j: -71, k: -6, d: 7 },
      { lat: 65.54, lon: 26.25, i: 145, j: -49, k: 42, d: 12 },
      { lat: 64.94, lon: 10.98, i: 196, j: -50, k: 84, d: 17 },
      { lat: 64.52, lon: 27.23, i: 70, j: -21, k: 97, d: 6 },
      {
        lat: 62.77,
        lon: 30.97,
        i: 9,
        j: -0.16666666666696983,
        k: 77,
        d: 0
      },
      { lat: 62.25, lon: 26.6, i: 6.66666666666606, j: -4, k: 92, d: 0 },
      { lat: 62.07, lon: 9.11, i: 41, j: -30, k: 123, d: 4 },
      { lat: 61.08, lon: 4.84, i: 22, j: -31.5, k: 95, d: 2 },
      { lat: 60.21, lon: 10.75, i: -3, j: -11, k: 94, d: 1 },
      { lat: 60.5, lon: 24.65, i: -11.875, j: 5, k: 79, d: -6 },
      { lat: 59.21, lon: 5.24, i: 4, j: -21, k: 67, d: 0 },
      { lat: 58.26, lon: 26.46, i: -27, j: 6, k: 60, d: 0 },
      { lat: 55.62, lon: 11.67, i: 11, j: -33, k: 70, d: 0 },
      {
        lat: 77.47,
        lon: 290.77,
        i: -15,
        j: -153.60714285714312,
        k: 51,
        d: -3
      },
      {
        lat: 74.57,
        lon: 302.82,
        i: 124.55838323353328,
        j: -367.02619760479047,
        k: -214.6680389221583,
        d: 8
      },
      {
        lat: 72.78,
        lon: 303.85,
        i: 265.6270553064278,
        j: -290.4940209267561,
        k: -139.1240657698072,
        d: -2.8055555555555554
      },
      { lat: 72.3, lon: 321.7, i: 3, j: -30, k: -142.5, d: 3 },
      { lat: 70.68, lon: 307.87, i: 105, j: 94, k: 0, d: -7 },
      { lat: 69.25, lon: 306.47, i: -5, j: -85, k: -109.5, d: -4 },
      {
        lat: 67.02,
        lon: 309.28,
        i: 256.11156412157106,
        j: -121.24981467753878,
        k: -339.35137138620485,
        d: -6
      },
      { lat: 61.16, lon: 314.56, i: 84, j: 58, k: -49, d: -1 },
      { lat: 40.137, lon: 254.763, i: -44, j: -20, k: -4, d: 0 },
      { lat: 71.322, lon: 203.378, i: -237, j: -53, k: 274, d: -26 },
      { lat: 64.874, lon: 212.14, i: -115, j: -60, k: -155, d: 5 },
      { lat: 48.265, lon: 242.878, i: -39, j: -20, k: -10, d: 1 },
      { lat: 55.348, lon: 199.538, i: -25, j: -5, k: -35, d: 2 },
      { lat: 57.058, lon: 224.675, i: -43, j: -32, k: -9, d: 6 },
      {
        lat: 82.497,
        lon: 297.647,
        i: -110.4000244140625,
        j: 127.60986328125,
        k: 17.615234375,
        d: 8.72998046875
      },
      {
        lat: 64.3,
        lon: 264,
        i: -7.915283203125,
        j: 81.90999603271484,
        k: -24.00390625,
        d: 18.0302734375
      },
      {
        lat: 49.6,
        lon: 262.9,
        i: -13.77978515625,
        j: -11.1800537109375,
        k: 4.609375,
        d: -5.3701171875
      },
      {
        lat: 69.2,
        lon: 255,
        i: -111.385009765625,
        j: 59.245025634765625,
        k: 51.39453125,
        d: 37.25
      },
      {
        lat: 80,
        lon: 274.1,
        i: -17.5350341796875,
        j: 145.8951416015625,
        k: 67.53515625,
        d: 4.58984375
      },
      {
        lat: 58.8,
        lon: 265.9,
        i: 72.060546875,
        j: 7.439994812011719,
        k: 31.193359375,
        d: -33.5703125
      },
      {
        lat: 63.8,
        lon: 291.5,
        i: 72.1044921875,
        j: -59.0299072265625,
        k: -256.11328125,
        d: 7.220703125
      },
      {
        lat: 54.6,
        lon: 246.7,
        i: -33.79897173713107,
        j: -27.8701171875,
        k: 4.46484375,
        d: -1.580078125
      },
      {
        lat: 45.4,
        lon: 284.5,
        i: -59.8740234375,
        j: -23.93025716145894,
        k: 15.128662109375,
        d: -5.431640625
      },
      {
        lat: 74.7,
        lon: 265.1,
        i: -131.75987737951164,
        j: 31.866024780273392,
        k: 196.35051081731217,
        d: 3.43994140625
      },
      {
        lat: 47.6,
        lon: 307.3,
        i: -62.5390625,
        j: -22.45491011424747,
        k: 11,
        d: 1.849609375
      },
      {
        lat: 48.6,
        lon: 236.6,
        i: -46.1731471011517,
        j: -26.061047363280522,
        k: -11.208085456324625,
        d: 2
      },
      {
        lat: 65.136,
        lon: -147.447,
        i: -317,
        j: -78,
        k: -134.05576923077024,
        d: 12
      },
      {
        lat: 64.786,
        lon: -141.205,
        i: -166.88467741935528,
        j: 51.16666666666674,
        k: -48,
        d: 31
      }
    ].map(o => ({ ...o, alt: 0 }));
          console.log(observations)

          const predicted = infer(observations);
          console.log(predicted);

        })();
    </script>
  </body>
</html>

